{"ast":null,"code":"import profileReducer from \"./profile-reduce\";\nimport messagesReducer from \"./messages-reducer\";\nimport sidebarReducer from \"./sidebar-redcuder\";\nexport const ADD_POST = 'ADD-POST';\nexport const UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nexport const UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY';\nexport const SEND_MESSAGE = 'SEND-MESSAGE';\nexport let addPostActionCreator = () => {\n  return {\n    type: ADD_POST\n  };\n};\nexport let updateNewPostTextActionCreator = newText => {\n  return {\n    type: UPDATE_NEW_POST_TEXT,\n    newText: newText\n  };\n};\nexport let sendMessageActionCreator = () => {\n  return {\n    type: SEND_MESSAGE\n  };\n};\nexport let updateNewMessageBody = newMessage => {\n  return {\n    type: UPDATE_NEW_MESSAGE_BODY,\n    body: newMessage\n  };\n};\nlet store = {\n  _state: {\n    messagesPage: {\n      dialogs: [{\n        message: 'hi!',\n        id: 1\n      }, {\n        message: 'hello!',\n        id: 2\n      }, {\n        message: 'how ar u?',\n        id: 3\n      }, {\n        message: 'good! what bout u?',\n        id: 4\n      }],\n      profiles: [{\n        name: 'Alexey',\n        profile_id: '1'\n      }, {\n        name: 'Sasha',\n        profile_id: '2'\n      }, {\n        name: 'Anton',\n        profile_id: '3'\n      }, {\n        name: 'Valera',\n        profile_id: '4'\n      }],\n      newMessageBody: 'value 123'\n    },\n    profilePage: {\n      posts: [{\n        id: 1,\n        message: 'My Last post!',\n        likes_count: 22\n      }, {\n        id: 2,\n        message: 'My First post!',\n        likes_count: 10\n      }],\n      newPostText: 'value 123'\n    },\n    sidebar: {}\n  },\n\n  _callSubscriber() {\n    console.log(\"call Subscriber\");\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  subscribe(observer) {\n    this._callSubscriber = observer;\n  },\n\n  dispatch(action) {\n    this._state.profilePage = profileReducer(this._state.profilePage, action);\n    this._state.messagesPage = messagesReducer(this._state.messagesPage, action);\n    this._state.sidebar = sidebarReducer(this._state.sidebar, action);\n\n    if (action.type === ADD_POST) {\n      let newPost = {\n        id: 3,\n        message: this._state.profilePage.newPostText,\n        likes_count: 1\n      };\n\n      this._state.profilePage.posts.push(newPost);\n\n      this._callSubscriber(this._state);\n\n      this._state.profilePage.newPostText = '';\n    }\n\n    if (action.type === UPDATE_NEW_POST_TEXT) {\n      this._state.profilePage.newPostText = action.newText;\n\n      this._callSubscriber(this._state);\n    }\n\n    if (action.type === SEND_MESSAGE) {\n      this._state.messagesPage.dialogs.push({\n        message: this._state.messagesPage.newMessageBody,\n        id: 5\n      });\n\n      this._callSubscriber(this._state);\n\n      this._state.messagesPage.newMessageBody = '';\n    }\n\n    if (action.type === UPDATE_NEW_MESSAGE_BODY) {\n      this._state.messagesPage.newMessageBody = action.body;\n\n      this._callSubscriber(this._state);\n    }\n  }\n\n};\nexport default store;","map":{"version":3,"sources":["D:/react-projects/01-first-project/first-app/src/redux/state.js"],"names":["profileReducer","messagesReducer","sidebarReducer","ADD_POST","UPDATE_NEW_POST_TEXT","UPDATE_NEW_MESSAGE_BODY","SEND_MESSAGE","addPostActionCreator","type","updateNewPostTextActionCreator","newText","sendMessageActionCreator","updateNewMessageBody","newMessage","body","store","_state","messagesPage","dialogs","message","id","profiles","name","profile_id","newMessageBody","profilePage","posts","likes_count","newPostText","sidebar","_callSubscriber","console","log","getState","subscribe","observer","dispatch","action","newPost","push"],"mappings":"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","sourcesContent":["import profileReducer from \"./profile-reduce\";\r\nimport messagesReducer from \"./messages-reducer\";\r\nimport sidebarReducer from \"./sidebar-redcuder\";\r\n\r\nexport const ADD_POST = 'ADD-POST'\r\nexport const UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\r\nexport const UPDATE_NEW_MESSAGE_BODY =  'UPDATE-NEW-MESSAGE-BODY'\r\nexport const SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\nexport let addPostActionCreator = () => {\r\n\r\n    return {\r\n        type: ADD_POST\r\n    }\r\n};\r\n\r\nexport let updateNewPostTextActionCreator = (newText) => {\r\n    return {\r\n        type: UPDATE_NEW_POST_TEXT,\r\n        newText :newText\r\n    }\r\n};\r\n\r\nexport let sendMessageActionCreator = () =>{\r\n    return{\r\n        type: SEND_MESSAGE\r\n    }\r\n}\r\n\r\nexport let updateNewMessageBody = (newMessage) =>{\r\n    return{\r\n        type: UPDATE_NEW_MESSAGE_BODY,\r\n        body:newMessage\r\n    }\r\n}\r\n\r\nlet store = {\r\n    _state: {\r\n        messagesPage: {\r\n            dialogs: [\r\n                {message: 'hi!', id: 1},\r\n                {message: 'hello!', id:2},\r\n                {message: 'how ar u?', id:3},\r\n                {message: 'good! what bout u?', id:4}],\r\n            profiles: [\r\n                {name: 'Alexey', profile_id: '1'},\r\n                {name: 'Sasha', profile_id: '2'},\r\n                {name: 'Anton', profile_id: '3'},\r\n                {name: 'Valera', profile_id: '4'},\r\n            ],\r\n            newMessageBody: 'value 123'\r\n        },\r\n        profilePage: {\r\n            posts: [\r\n                {id: 1, message: 'My Last post!', likes_count: 22},\r\n                {id: 2, message: 'My First post!', likes_count: 10}\r\n            ],\r\n\r\n            newPostText: 'value 123'\r\n        },\r\n        sidebar:{\r\n\r\n        }\r\n    },\r\n     _callSubscriber() {\r\n        console.log(\"call Subscriber\");\r\n    },\r\n    getState()\r\n    {\r\n        return this._state;\r\n    },\r\n    subscribe (observer){\r\n        this._callSubscriber = observer;\r\n    },\r\n    dispatch(action){\r\n\r\n        this._state.profilePage = profileReducer(this._state.profilePage, action);\r\n        this._state.messagesPage = messagesReducer(this._state.messagesPage, action);\r\n        this._state.sidebar = sidebarReducer(this._state.sidebar, action);\r\n        if(action.type === ADD_POST)\r\n        {\r\n            let newPost = {\r\n                id: 3,\r\n                message: this._state.profilePage.newPostText,\r\n                likes_count: 1\r\n            };\r\n            this._state.profilePage.posts.push(newPost);\r\n            this._callSubscriber(this._state);\r\n            this._state.profilePage.newPostText = '';\r\n        }\r\n        if(action.type === UPDATE_NEW_POST_TEXT)\r\n        {\r\n            this._state.profilePage.newPostText = action.newText;\r\n            this._callSubscriber(this._state);\r\n        }\r\n        if(action.type ===SEND_MESSAGE){\r\n            this._state.messagesPage.dialogs.push({message: this._state.messagesPage.newMessageBody,id : 5});\r\n            this._callSubscriber(this._state);\r\n            this._state.messagesPage.newMessageBody = '';\r\n        }\r\n        if(action.type === UPDATE_NEW_MESSAGE_BODY)\r\n        {\r\n            this._state.messagesPage.newMessageBody = action.body;\r\n            this._callSubscriber(this._state);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default store;"]},"metadata":{},"sourceType":"module"}