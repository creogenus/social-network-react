{"ast":null,"code":"import _regeneratorRuntime from\"D:/react-projects/01-first-project/first-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/react-projects/01-first-project/first-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"D:/react-projects/01-first-project/first-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:/react-projects/01-first-project/first-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{profileAPI}from\"../api/api\";export var ADD_POST='ADD-POST';export var UPDATE_NEW_POST_TEXT='UPDATE-NEW-POST-TEXT';export var SET_USER_PROFILE='SET-USER-PROFILE';export var GET_USER_STATUS='GET-USER-STATUS';export var DELETE_POST='DELETE-POST';var initialState={posts:[{id:1,message:'My Last post!',likes_count:22},{id:2,message:'My First post!',likes_count:10}],profile:null,status:\"ALOXA\"};var profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_POST:{var newPost={id:3,message:action.post,likes_count:1};var stateCopy=_objectSpread({},state);stateCopy.posts=_toConsumableArray(state.posts);stateCopy.posts.push(newPost);stateCopy.newPostText='';return stateCopy;}case UPDATE_NEW_POST_TEXT:{var _stateCopy=_objectSpread({},state);_stateCopy.newPostText=action.newText;return _stateCopy;}case SET_USER_PROFILE:{return _objectSpread(_objectSpread({},state),{},{profile:action.profile});}case GET_USER_STATUS:{return _objectSpread(_objectSpread({},state),{},{status:action.status});}case DELETE_POST:{return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(post){return post.id!=action.postID;})});}default:return state;}};export var addPostActionCreator=function addPostActionCreator(post){return{type:ADD_POST,post:post};};export var updateNewPostTextActionCreator=function updateNewPostTextActionCreator(newText){return{type:UPDATE_NEW_POST_TEXT,newText:newText};};export var deletePostActionCreator=function deletePostActionCreator(postID){return{type:DELETE_POST,postID:postID};};export var setUserProfile=function setUserProfile(profile){return{type:SET_USER_PROFILE,profile:profile};};export var getUserStatus=function getUserStatus(status){return{type:GET_USER_STATUS,status:status};};export var getUserStatusThunkCreator=function getUserStatusThunkCreator(userID){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return profileAPI.getUsersStatus(userID);case 2:response=_context.sent;dispatch(getUserStatus(response.data));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var postUserStatusThunkCreator=function postUserStatusThunkCreator(status){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return profileAPI.postUsersStatus(status);case 2:response=_context2.sent;dispatch(getUserStatus(status));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var setUserProfileThunkCreator=function setUserProfileThunkCreator(userID){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return profileAPI.setUserProfile(userID);case 2:response=_context3.sent;dispatch(setUserProfile(response.data));case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export default profileReducer;","map":{"version":3,"sources":["D:/react-projects/01-first-project/first-app/src/redux/profile-reducer.js"],"names":["profileAPI","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","GET_USER_STATUS","DELETE_POST","initialState","posts","id","message","likes_count","profile","status","profileReducer","state","action","type","newPost","post","stateCopy","push","newPostText","newText","filter","postID","addPostActionCreator","updateNewPostTextActionCreator","deletePostActionCreator","setUserProfile","getUserStatus","getUserStatusThunkCreator","userID","dispatch","getUsersStatus","response","data","postUserStatusThunkCreator","postUsersStatus","setUserProfileThunkCreator"],"mappings":"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","sourcesContent":["import {profileAPI} from \"../api/api\";\r\n\r\nexport const ADD_POST = 'ADD-POST'\r\nexport const UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\r\nexport const SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nexport const GET_USER_STATUS = 'GET-USER-STATUS'\r\nexport const DELETE_POST = 'DELETE-POST'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'My Last post!', likes_count: 22},\r\n        {id: 2, message: 'My First post!', likes_count: 10}\r\n    ],\r\n    profile: null,\r\n    status: \"ALOXA\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.post,\r\n                likes_count: 1\r\n            };\r\n            let stateCopy = {...state};\r\n            stateCopy.posts = [...state.posts];\r\n            stateCopy.posts.push(newPost)\r\n            stateCopy.newPostText = '';\r\n            return stateCopy;\r\n        }\r\n\r\n        case  UPDATE_NEW_POST_TEXT: {\r\n            let stateCopy = {...state};\r\n\r\n            stateCopy.newPostText = action.newText;\r\n            return stateCopy;\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case GET_USER_STATUS: {\r\n\r\n            return {...state, status: action.status}\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(post => post.id != action.postID)}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport let addPostActionCreator = (post) => {\r\n\r\n    return {\r\n        type: ADD_POST,\r\n        post\r\n    }\r\n};\r\n\r\nexport let updateNewPostTextActionCreator = (newText) => {\r\n    return {\r\n        type: UPDATE_NEW_POST_TEXT,\r\n        newText: newText\r\n    }\r\n};\r\n\r\nexport let deletePostActionCreator = (postID) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postID\r\n    }\r\n}\r\n\r\nexport let setUserProfile = (profile) => {\r\n\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    }\r\n}\r\n\r\n\r\nexport let getUserStatus = (status) => {\r\n    return {\r\n        type: GET_USER_STATUS,\r\n        status\r\n    }\r\n}\r\n\r\nexport let getUserStatusThunkCreator = (userID) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getUsersStatus(userID);\r\n        dispatch(getUserStatus(response.data));\r\n    }\r\n}\r\n\r\nexport let postUserStatusThunkCreator = (status) => async (dispatch) => {\r\n    let response = await profileAPI.postUsersStatus(status);\r\n    dispatch(getUserStatus(status));\r\n\r\n\r\n}\r\n\r\n\r\nexport const setUserProfileThunkCreator = (userID) => {\r\n    return async (dispatch) => {\r\n\r\n        let response = await profileAPI.setUserProfile(userID)\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}