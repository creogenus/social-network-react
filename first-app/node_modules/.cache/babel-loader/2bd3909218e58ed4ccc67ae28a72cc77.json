{"ast":null,"code":"export const UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY';\nexport const SEND_MESSAGE = 'SEND-MESSAGE';\nexport let sendMessageActionCreator = () => {\n  return {\n    type: SEND_MESSAGE\n  };\n};\nexport let updateNewMessageBody = newMessage => {\n  return {\n    type: UPDATE_NEW_MESSAGE_BODY,\n    body: newMessage\n  };\n};\nlet initialState = {\n  dialogs: [{\n    message: 'hi!',\n    id: 1\n  }, {\n    message: 'hello!',\n    id: 2\n  }, {\n    message: 'how ar u?',\n    id: 3\n  }, {\n    message: 'good! what bout u?',\n    id: 4\n  }],\n  profiles: [{\n    name: 'Alexey',\n    profile_id: '1'\n  }, {\n    name: 'Sasha',\n    profile_id: '2'\n  }, {\n    name: 'Anton',\n    profile_id: '3'\n  }, {\n    name: 'Valera',\n    profile_id: '4'\n  }],\n  newMessageBody: 'value 123'\n};\n\nconst messagesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      {\n        let newMessage = state.newMessageBody;\n        let stateCopy = { ...state\n        };\n        stateCopy.dialogs = [...state.dialogs];\n        stateCopy.newMessageBody = newMessage;\n        console.log(stateCopy.newMessageBody);\n        stateCopy.dialogs.push({\n          message: stateCopy.newMessageBody,\n          id: 5\n        });\n        stateCopy.newMessageBody = '';\n        console.log(stateCopy.dialogs);\n        return stateCopy;\n      }\n\n    case UPDATE_NEW_MESSAGE_BODY:\n      {\n        let stateCopy = { ...state\n        };\n        stateCopy.newMessageBody = action.newMessageBody;\n        return stateCopy;\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default messagesReducer;","map":{"version":3,"sources":["D:/react-projects/01-first-project/first-app/src/redux/messages-reducer.js"],"names":["UPDATE_NEW_MESSAGE_BODY","SEND_MESSAGE","sendMessageActionCreator","type","updateNewMessageBody","newMessage","body","initialState","dialogs","message","id","profiles","name","profile_id","newMessageBody","messagesReducer","state","action","stateCopy","console","log","push"],"mappings":"AAAA,OAAO,MAAMA,uBAAuB,GAAG,yBAAhC;AACP,OAAO,MAAMC,YAAY,GAAG,cAArB;AAEP,OAAO,IAAIC,wBAAwB,GAAG,MAAK;AACvC,SAAM;AACFC,IAAAA,IAAI,EAAEF;AADJ,GAAN;AAGH,CAJM;AAMP,OAAO,IAAIG,oBAAoB,GAAIC,UAAD,IAAe;AAC7C,SAAM;AACFF,IAAAA,IAAI,EAAEH,uBADJ;AAEFM,IAAAA,IAAI,EAACD;AAFH,GAAN;AAIH,CALM;AAOP,IAAIE,YAAY,GAAE;AACdC,EAAAA,OAAO,EAAE,CACL;AAACC,IAAAA,OAAO,EAAE,KAAV;AAAiBC,IAAAA,EAAE,EAAE;AAArB,GADK,EAEL;AAACD,IAAAA,OAAO,EAAE,QAAV;AAAoBC,IAAAA,EAAE,EAAC;AAAvB,GAFK,EAGL;AAACD,IAAAA,OAAO,EAAE,WAAV;AAAuBC,IAAAA,EAAE,EAAC;AAA1B,GAHK,EAIL;AAACD,IAAAA,OAAO,EAAE,oBAAV;AAAgCC,IAAAA,EAAE,EAAC;AAAnC,GAJK,CADK;AAMdC,EAAAA,QAAQ,EAAE,CACN;AAACC,IAAAA,IAAI,EAAE,QAAP;AAAiBC,IAAAA,UAAU,EAAE;AAA7B,GADM,EAEN;AAACD,IAAAA,IAAI,EAAE,OAAP;AAAgBC,IAAAA,UAAU,EAAE;AAA5B,GAFM,EAGN;AAACD,IAAAA,IAAI,EAAE,OAAP;AAAgBC,IAAAA,UAAU,EAAE;AAA5B,GAHM,EAIN;AAACD,IAAAA,IAAI,EAAE,QAAP;AAAiBC,IAAAA,UAAU,EAAE;AAA7B,GAJM,CANI;AAYdC,EAAAA,cAAc,EAAE;AAZF,CAAlB;;AAeA,MAAMC,eAAe,GAAG,CAACC,KAAK,GAAGT,YAAT,EAAuBU,MAAvB,KAAkC;AACtD,UAAQA,MAAM,CAACd,IAAf;AACI,SAAKF,YAAL;AACA;AACI,YAAII,UAAU,GAAGW,KAAK,CAACF,cAAvB;AACA,YAAII,SAAS,GAAG,EAAC,GAAGF;AAAJ,SAAhB;AACAE,QAAAA,SAAS,CAACV,OAAV,GAAmB,CAAC,GAAGQ,KAAK,CAACR,OAAV,CAAnB;AACAU,QAAAA,SAAS,CAACJ,cAAV,GAA2BT,UAA3B;AACAc,QAAAA,OAAO,CAACC,GAAR,CAAYF,SAAS,CAACJ,cAAtB;AACAI,QAAAA,SAAS,CAACV,OAAV,CAAkBa,IAAlB,CAAuB;AAACZ,UAAAA,OAAO,EAACS,SAAS,CAACJ,cAAnB;AAAmCJ,UAAAA,EAAE,EAAC;AAAtC,SAAvB;AACAQ,QAAAA,SAAS,CAACJ,cAAV,GAA2B,EAA3B;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAYF,SAAS,CAACV,OAAtB;AAEA,eAAOU,SAAP;AACH;;AACD,SAAKlB,uBAAL;AACA;AACI,YAAIkB,SAAS,GAAG,EAAC,GAAGF;AAAJ,SAAhB;AACAE,QAAAA,SAAS,CAACJ,cAAV,GAA2BG,MAAM,CAACH,cAAlC;AACA,eAAOI,SAAP;AACH;;AACD;AACI,aAAOF,KAAP;AArBR;AAwBH,CAzBD;;AA2BA,eAAeD,eAAf","sourcesContent":["export const UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY'\r\nexport const SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\nexport let sendMessageActionCreator = () =>{\r\n    return{\r\n        type: SEND_MESSAGE\r\n    }\r\n}\r\n\r\nexport let updateNewMessageBody = (newMessage) =>{\r\n    return{\r\n        type: UPDATE_NEW_MESSAGE_BODY,\r\n        body:newMessage\r\n    }\r\n}\r\n\r\nlet initialState ={\r\n    dialogs: [\r\n        {message: 'hi!', id: 1},\r\n        {message: 'hello!', id:2},\r\n        {message: 'how ar u?', id:3},\r\n        {message: 'good! what bout u?', id:4}],\r\n    profiles: [\r\n        {name: 'Alexey', profile_id: '1'},\r\n        {name: 'Sasha', profile_id: '2'},\r\n        {name: 'Anton', profile_id: '3'},\r\n        {name: 'Valera', profile_id: '4'},\r\n    ],\r\n    newMessageBody: 'value 123'\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n        {\r\n            let newMessage = state.newMessageBody;\r\n            let stateCopy = {...state};\r\n            stateCopy.dialogs =[...state.dialogs];\r\n            stateCopy.newMessageBody = newMessage;\r\n            console.log(stateCopy.newMessageBody)\r\n            stateCopy.dialogs.push({message:stateCopy.newMessageBody, id:5})\r\n            stateCopy.newMessageBody = '';\r\n            console.log(stateCopy.dialogs)\r\n\r\n            return stateCopy;\r\n        }\r\n        case UPDATE_NEW_MESSAGE_BODY:\r\n        {\r\n            let stateCopy = {...state};\r\n            stateCopy.newMessageBody = action.newMessageBody;\r\n            return stateCopy;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport default messagesReducer;"]},"metadata":{},"sourceType":"module"}